(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{1312:function(e,l,a){Promise.resolve().then(a.bind(a,1642))},1642:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return b}});var i=a(9433),s=a(5463);a(1927);var t=a(7229),d=a(2314),n=a(847),r=a(8415);function o(e){let{data:l,average:a,max:s,min:n}=e;return(0,i.jsxs)("div",{className:"dark:bg-gray-950 p-8 rounded-lg shadow",children:[(0,i.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-2xl font-semibold inline",children:"Denyut Jantung"}),(0,i.jsx)("span",{className:"ml-2 text-sm text-gray-400",children:"(bpm)"})]}),(0,i.jsx)("div",{children:(0,i.jsxs)(t.v,{children:[(0,i.jsx)(t.v.Button,{className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"..."}),(0,i.jsxs)(t.v.Items,{className:"absolute overflow-hidden -ml-[12rem] w-56 mt-2 origin-top-right bg-gray-800 divide-y divide-gray-700 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none flex flex-col",children:[(0,i.jsx)(t.v.Item,{children:e=>{let{active:l}=e;return(0,i.jsx)("a",{className:"".concat(l&&"bg-blue-500"," px-4 py-2"),href:"/account-settings",children:"Unduh dalam csv"})}}),(0,i.jsx)(t.v.Item,{children:e=>{let{active:l}=e;return(0,i.jsx)("a",{className:"".concat(l&&"bg-blue-500"," px-4 py-2"),href:"/account-settings",children:"Lihat raw data utuh"})}})]})]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 my-8",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-thin text-gray-300",children:"Minimal"}),(0,i.jsx)("div",{className:"font-semibold text-xl",children:n})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-thin text-gray-300",children:"Rata - Rata"}),(0,i.jsx)("div",{className:"font-semibold text-xl",children:a})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-thin text-gray-300",children:"Maksimum"}),(0,i.jsx)("div",{className:"font-semibold text-xl",children:s})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)(d.x1,{data:l,options:{plugins:{legend:{display:!0}},elements:{line:{tension:0,borderWidth:2,borderColor:"rgba(240, 88, 68, 1)",fill:"start",backgroundColor:"rgba(240, 88, 68, 0.3)"},point:{radius:0,hitRadius:0}},scales:{xAxis:{display:!1}}}})})]})}function c(e){let{data:l,average:a,max:s,min:n}=e;return(0,i.jsxs)("div",{className:"dark:bg-gray-950 p-8 rounded-lg shadow",children:[(0,i.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h4",{className:"text-2xl font-semibold inline",children:"ECG"})}),(0,i.jsx)("div",{children:(0,i.jsxs)(t.v,{children:[(0,i.jsx)(t.v.Button,{className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"..."}),(0,i.jsxs)(t.v.Items,{className:"absolute overflow-hidden -ml-[12rem] w-56 mt-2 origin-top-right bg-gray-800 divide-y divide-gray-700 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none flex flex-col",children:[(0,i.jsx)(t.v.Item,{children:e=>{let{active:l}=e;return(0,i.jsx)("a",{className:"".concat(l&&"bg-blue-500"," px-4 py-2"),href:"/account-settings",children:"Unduh dalam csv"})}}),(0,i.jsx)(t.v.Item,{children:e=>{let{active:l}=e;return(0,i.jsx)("a",{className:"".concat(l&&"bg-blue-500"," px-4 py-2"),href:"/account-settings",children:"Lihat raw data utuh"})}})]})]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 my-8",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-thin text-gray-300",children:"Minimal"}),(0,i.jsx)("div",{className:"font-semibold text-xl",children:n})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-thin text-gray-300",children:"Rata - Rata"}),(0,i.jsx)("div",{className:"font-semibold text-xl",children:a})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"font-thin text-gray-300",children:"Maksimum"}),(0,i.jsx)("div",{className:"font-semibold text-xl",children:s})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)(d.x1,{data:l,options:{plugins:{legend:{display:!0}},elements:{line:{tension:0,borderWidth:2,borderColor:"rgba(68, 88, 240, 1)",fill:"start",backgroundColor:"rgba(68, 88, 240, 0.3)"},point:{radius:0,hitRadius:0}},scales:{xAxis:{display:!1}}}})})]})}function x(e){var l,a,s,t,n,x,u,v,m;let{reports:f}=function(e){let l=(0,r.useMemo)(()=>{let l=(null==e?void 0:e.report)||{},a=[{type:"hr",evaluate:e=>{let a=(a=>{var i,s;let t={labels:[],datasets:[]},d=-1;for(let a of(null==e?void 0:e.data)||[]){let e=(null==l?void 0:null===(i=l.devices.find(e=>(null==e?void 0:e.identifier)===(null==a?void 0:a.device)))||void 0===i?void 0:i.name)||"",s="".concat(e," (").concat(null==a?void 0:a.device,")"),n=t.datasets.find(e=>e.label===s);for(let e of(n||t.datasets.push({label:s,data:[]}),(null==a?void 0:a.value)||[])){let l=parseInt(e[0]||0);l>d&&(d=l)}}for(let a of(t.labels=Array.from(Array(d+1).keys())||[],(null==e?void 0:e.data)||[])){let e=(null==l?void 0:null===(s=l.devices.find(e=>(null==e?void 0:e.identifier)===(null==a?void 0:a.device)))||void 0===s?void 0:s.name)||"",i="".concat(e," (").concat(null==a?void 0:a.device,")"),d=t.datasets.find(e=>e.label===i);if(d)for(let e of(null==a?void 0:a.value)||[]){let l=e[0],a=e[1];d.data[l]=a?parseInt(a):0}}return t})(0),[i,s]=(e=>{let l=-1,a=1/0;for(let i of(null==e?void 0:e.datasets)||[])for(let e of(null==i?void 0:i.data)||[])e>l&&(l=e),e<a&&(a=e);return[a,l]})(a);return{data:a,average:(e=>{let l=0,a=0;for(let i of(null==e?void 0:e.datasets)||[])for(let e of(null==i?void 0:i.data)||[])l+=e?parseInt(e):0,e&&(a+=1);return Math.round(l/a)})(a),max:s,min:i}}},{type:"ecg",evaluate:e=>{let a=(a=>{var i,s;let t={labels:[],datasets:[]},d=-1;for(let a of(null==e?void 0:e.data)||[]){let e=(null==l?void 0:null===(i=l.devices.find(e=>(null==e?void 0:e.identifier)===(null==a?void 0:a.device)))||void 0===i?void 0:i.name)||"",s="".concat(e," (").concat(null==a?void 0:a.device,")"),n=t.datasets.find(e=>e.label===s);for(let e of(n||t.datasets.push({label:s,data:[]}),(null==a?void 0:a.value)||[])){let l=e[0]||0;e[1],l>d&&(d=l)}}for(let a of(t.labels=Array.from(Array(d+1).keys())||[],(null==e?void 0:e.data)||[])){let e=(null==l?void 0:null===(s=l.devices.find(e=>(null==e?void 0:e.identifier)===(null==a?void 0:a.device)))||void 0===s?void 0:s.name)||"",i="".concat(e," (").concat(null==a?void 0:a.device,")"),d=t.datasets.find(e=>e.label===i);if(d)for(let e of(null==a?void 0:a.value)||[]){let l=e[0],a=e[1];d.data[l]=a}}return t})(0),[i,s]=(e=>{let l=-1,a=1/0;for(let i of(null==e?void 0:e.datasets)||[])for(let e of(null==i?void 0:i.data)||[])e>l&&(l=e),e<a&&(a=e);return[a,l]})(a);return{data:a,average:(e=>{let l=0,a=0;for(let i of(null==e?void 0:e.datasets)||[])for(let e of(null==i?void 0:i.data)||[])l+=e?parseInt(e):0,e&&(a+=1);return Math.round(l/a)})(a),max:s,min:i}}}],i=[];for(let e of(null==l?void 0:l.reports)||[]){let l=a.find(l=>l.type===(null==e?void 0:e.type));l&&i.push({type:null==e?void 0:e.type,data:l.evaluate(e)})}return i.sort((e,l)=>{let a=["hr","ecg"];return a.indexOf(null==e?void 0:e.type)-a.indexOf(null==l?void 0:l.type)}),i},[e]);return{reports:l}}(e.data);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"max-w-screen-lg w-full mx-auto py-14 pt-6 flex flex-col space-y-10",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-2xl font-semibold mb-3",children:"Pintas"}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[f.find(e=>"hr"===e.type)&&(0,i.jsxs)("div",{className:"rounded shadow py-4 px-4 container overflow-hidden flex dark:bg-orange-400",children:[(0,i.jsxs)("div",{className:"flex flex-col w-1/2 item justify-center",children:[(0,i.jsx)("div",{className:"text-xs text-gray-200",children:"Rata rata denyut jantung"}),(0,i.jsxs)("div",{className:"font-bold text-2xl",children:[null===(a=f.find(e=>"hr"===e.type))||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.average," bpm"]})]}),(0,i.jsx)("div",{className:"w-1/2",children:(0,i.jsx)(d.x1,{data:null===(s=f.find(e=>"hr"===e.type))||void 0===s?void 0:s.data.data,options:{plugins:{legend:{display:!1}},elements:{line:{tension:0,borderWidth:2,borderColor:"rgba(47, 97, 68, 1)",fill:"start",backgroundColor:"rgba(47, 97, 68, 0.3)"},point:{radius:0,hitRadius:0}},scales:{xAxis:{display:!1},yAxis:{display:!1},x:{display:!1},y:{display:!1}}}})})]}),f.find(e=>"ecg"===e.type)&&(0,i.jsxs)("div",{className:"rounded shadow py-4 px-4 container overflow-hidden flex dark:bg-blue-400",children:[(0,i.jsxs)("div",{className:"flex flex-col w-1/2 item justify-center",children:[(0,i.jsx)("div",{className:"text-xs text-gray-200",children:"Rata rata ECG"}),(0,i.jsxs)("div",{className:"font-bold text-2xl",children:[null===(n=f.find(e=>"ecg"===e.type))||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.average," volt"]})]}),(0,i.jsx)("div",{className:"w-1/2",children:(0,i.jsx)(d.x1,{data:null===(x=f.find(e=>"ecg"===e.type))||void 0===x?void 0:x.data.data,options:{plugins:{legend:{display:!1}},elements:{line:{tension:0,borderWidth:2,borderColor:"rgba(47, 97, 68, 1)",fill:"start",backgroundColor:"rgba(47, 97, 68, 0.3)"},point:{radius:0,hitRadius:0}},scales:{xAxis:{display:!1},yAxis:{display:!1},x:{display:!1},y:{display:!1}}}})})]})]})]}),(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"Detail"}),(0,i.jsx)("div",{className:"flex flex-col space-y-6",children:f.map(e=>{var l,a,s,t,d,n,x,u;return(0,i.jsxs)(r.Fragment,{children:[(null==e?void 0:e.type)==="hr"&&(0,i.jsx)(o,{data:null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.data,average:null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.average,max:null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.max,min:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.min}),(null==e?void 0:e.type)==="ecg"&&(0,i.jsx)(c,{data:null==e?void 0:null===(d=e.data)||void 0===d?void 0:d.data,average:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.average,max:null==e?void 0:null===(x=e.data)||void 0===x?void 0:x.max,min:null==e?void 0:null===(u=e.data)||void 0===u?void 0:u.min})]},Math.random())})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-2xl font-semibold mb-3",children:"Alat yang terhubung"}),(0,i.jsx)("div",{className:"grid grid-cols-4 gap-4",children:null===(m=e.data)||void 0===m?void 0:null===(v=m.report)||void 0===v?void 0:null===(u=v.devices)||void 0===u?void 0:u.map(e=>(0,i.jsxs)("div",{className:"rounded shadow container overflow-hidden flex items-center dark:bg-slate-900",children:[(0,i.jsx)("div",{className:"w-14 h-14 relative overflow-hidden bg-red-500"}),(0,i.jsxs)("div",{className:"flex-1 ml-4",children:[(0,i.jsx)("div",{className:"text-lg font-semibold",children:null==e?void 0:e.name}),(0,i.jsx)("div",{className:"text-xs italic text-gray-200",children:null==e?void 0:e.identifier})]})]},(null==e?void 0:e.identifier)||Math.random()))})]})]})})}n.kL.register(n.uw);var u=a(9688),v=a.n(u),m=a(3638),f=a.n(m),h=a(5301),g=a(4963),j=a.n(g),p=a(1844);function b(e){var l,a;let{reportData:t}=e,{data:d}=(0,p.useSession)(),[n,o]=(0,r.useState)(),c=()=>{var e,l;let a=new URLSearchParams(window.location.search);return a.get("back")?a.get("back"):(null==d?void 0:null===(e=d.user)||void 0===e?void 0:e.id)===(null==t?void 0:null===(l=t.user)||void 0===l?void 0:l._id)?"/dashboard/exercise":"/dashboard/shared-exercise"};return(0,r.useEffect)(()=>{window&&o(c())},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"shadow border-b-2 border-white/[0.2] dark:bg-gray-950/[0.7]",children:(0,i.jsxs)("div",{className:"flex flex-col max-w-screen-lg w-full mx-auto py-6 px-6",children:[(0,i.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(j(),{href:n||c(),className:"text-xs flex items-center mb-2",children:[(0,i.jsx)(h.JO,{icon:"uil:arrow-left",className:"text-lg"}),(0,i.jsx)("span",{children:"back"})]}),(0,i.jsx)("h2",{className:"font-semibold text-2xl",children:null==t?void 0:null===(l=t.exercise)||void 0===l?void 0:l.name})]})}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsxs)("div",{className:"text-xs text-gray-500 flex",children:[(0,i.jsx)(s.XdU,{}),(0,i.jsx)("span",{className:"ml-1",children:null==t?void 0:null===(a=t.report)||void 0===a?void 0:a.startTime})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,i.jsx)(s.qyc,{}),(0,i.jsx)("span",{className:"ml-1",children:"17:39"})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,i.jsx)(s.m9R,{}),(0,i.jsx)("span",{className:"ml-1",children:"viandwi24"})]})]})]})}),(0,i.jsx)(x,{data:t})]})}v().extend(f())},1927:function(e,l,a){"use strict";a.d(l,{zx:function(){return o},Zb:function(){return t},II:function(){return d}});var i,s,t,d,n=a(9433);function r(e,l){let a={...e};return l.forEach(e=>{delete a[e]}),a}function o(e){var l;return(0,n.jsx)("button",{className:"duration-300 transition-all px-4 py-2 rounded-md dark:bg-gray-700 dark:hover:bg-gray-600 bg-gray-100 hover:bg-gray-200 ".concat(null!==(l=e.className)&&void 0!==l?l:""),...r(e,["className"])})}(i=t||(t={})).Wrapper=function(e){return(0,n.jsx)("div",{className:"bg-transparent rounded-lg shadow-lg p-6 border-2 border-gray-800 ".concat(null==e?void 0:e.className),...r(e,["className"])})},i.HeaderTitle=function(e){return(0,n.jsx)("div",{className:"text-xl font-bold mb-4",children:null==e?void 0:e.children})},(s=d||(d={})).Text=function(e){return(0,n.jsx)("input",{type:"text",className:"flex-1 px-4 py-2 rounded-lg",...e})},s.Select=function(e){return(0,n.jsx)("select",{className:"flex-1 px-4 py-2 rounded-lg",...e,children:e.data.map((e,l)=>(0,n.jsx)("option",{value:e.value,children:e.text},l))})}}},function(e){e.O(0,[662,182,844,816,725,229,288,526,488,744],function(){return e(e.s=1312)}),_N_E=e.O()}]);